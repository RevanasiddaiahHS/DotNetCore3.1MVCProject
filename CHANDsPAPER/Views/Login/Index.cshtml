@model CHAND_sPAPERService.Models.LoginModel

@{
    ViewData["Title"] = "Index";
    Layout = null;
}

@*<div class="row logindiv">
        <div class="col-md-6 bgcolor">
            <form asp-action="VerifingEmailandPassword" asp-controller="Login">
                <div class="form-group">
                    <label>Email ID</label>
                    @Html.TextBoxFor(Model => Model.EmailID, "", new { @class = "form-control", @autocomplete = "off", @autofocus = "autofocus" })
                    @Html.ValidationMessageFor(Model => Model.EmailID, "", new { @class = " text-danger" })
                </div>
                <div class="form-group">
                    <label>Password</label>
                    @Html.PasswordFor(Model => Model.Password, new { @class = "form-control", @autocomplete = "off", id = "passwordtxt" })
                    @Html.ValidationMessageFor(Model => Model.Password, "", new { @class = "text-danger" })
                    <span><i onclick="showhidepassword(this)" id="eyeicon" style="font-size:30px;color:red" class="fa fa-eye-slash"></i></span>
                </div>
                <div class="form-group text-right">
                    <input type="submit" value="Submit" class="btn btn-primary" />
                </div>
                <div>
                    <a asp-action="Mentor" asp-controller="Register">Don't have an account sign up here</a>
                </div>
            </form>
        </div>
    </div>*@




<!DOCTYPE html>
<html lang="en">

<head>

    <title>Login V6</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    @*<link rel="icon" type="image/png" href="images/icons/favicon.ico" />*@
    <link rel="icon" type="image/png" href="https://colorlib.com/etc/lf/Login_v6/images/icons/favicon.ico" />

    @*<link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.min.css">*@
    @*<link rel="stylesheet" type="text/css" href="https://colorlib.com/etc/lf/Login_v6/vendor/bootstrap/css/bootstrap.min.css">*@
    <link href="~/js/LoginPagestyjs/bootstrapmin.css" rel="stylesheet" />


    @*<link rel="stylesheet" type="text/css"po href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">*@
    @*<link href="~/js/LoginPagestyjs/fontawesome.css" rel="stylesheet" />*@
    <link href="https://colorlib.com/etc/lf/Login_v6/fonts/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" />
    @*<link href="~/js/LoginPagestyjs/fontawesome.css" rel="stylesheet" />*@

    @*<link rel="stylesheet" type="text/css" href="fonts/iconic/css/material-design-iconic-font.min.css">*@
    @*<link href="~/js/LoginPagestyjs/materialdesign.css" rel="stylesheet" />*@
    @*<link href="https://colorlib.com/etc/lf/Login_v6/fonts/iconic/css/material-design-iconic-font.min.css" rel="stylesheet" />*@
    <link href="~/js/LoginPagestyjs/materialdesign.css" rel="stylesheet" />

    @*<link rel="stylesheet" type="text/css" href="vendor/animate/animate.css">*@
    @*<link href="~/js/LoginPagestyjs/animate.css" rel="stylesheet" />*@
    @*<link href="https://colorlib.com/etc/lf/Login_v6/vendor/animate/animate.css" rel="stylesheet" />*@
    <link href="~/js/LoginPagestyjs/animate.css" rel="stylesheet" />

    @*<link rel="stylesheet" type="text/css" href="vendor/css-hamburgers/hamburgers.min.css">*@
    @*<link href="~/js/LoginPagestyjs/hamberg.css" rel="stylesheet" />*@
    @*<link href="https://colorlib.com/etc/lf/Login_v6/vendor/css-hamburgers/hamburgers.min.css" rel="stylesheet />*@
    <link href="~/js/LoginPagestyjs/hamberg.css" rel="stylesheet" />


    @*<link rel="stylesheet" type="text/css" href="vendor/animsition/css/animsition.min.css">*@
    @*<link href="~/js/LoginPagestyjs/animationmin.css" rel="stylesheet" />*@
    @*<link href="https://colorlib.com/etc/lf/Login_v6/vendor/animsition/css/animsition.min.css" rel="stylesheet" />*@
    <link href="~/js/LoginPagestyjs/animationmin.css" rel="stylesheet" />


    @*<link rel="stylesheet" type="text/css" href="vendor/select2/select2.min.css">*@
    @*<link href="https://colorlib.com/etc/lf/Login_v6/vendor/select2/select2.min.css" rel="stylesheet" />*@
    <link href="~/js/LoginPagestyjs/selec2.css" rel="stylesheet" />



    @*<link rel="stylesheet" type="text/css" href="vendor/daterangepicker/daterangepicker.css">*@
    @*<link href="https://colorlib.com/etc/lf/Login_v6/vendor/daterangepicker/daterangepicker.css" rel="stylesheet" />*@
    <link href="~/js/LoginPagestyjs/daterange.css" rel="stylesheet" />

    @*<link rel="stylesheet" type="text/css" href="css/util.css">*@
    @*<link rel="stylesheet" type="text/css" href="https://colorlib.com/etc/lf/Login_v6/css/util.css">*@
    <link href="~/js/LoginPagestyjs/util.css" rel="stylesheet" />

    @*<link rel="stylesheet" type="text/css" href="css/main.css">*@
    <link rel="stylesheet" type="text/css" href="https://colorlib.com/etc/lf/Login_v6/css/main.css">
    @*<link href="~/js/LoginPagestyjs/main.css" rel="stylesheet" />*@
    <link href="~/css/cumponent.css" rel="stylesheet" />
    <link href="~/css/Custom.css" rel="stylesheet" />
    <style>
        .hide {
            display: none;
        }

        input.popuptxt {
            border: 1px solid rgba(0,0,0,.15) !important
        }
    </style>
</head>
<body>
    <div class="pLoader">
        <div class="pLoaderInner">
            <div class="shape1"></div>
            <div class="shape2"></div>
            <div class="shape3"></div>
            <div class="shape4"></div>
        </div>
    </div>
    <div class="positionfix">
        <div class="alert alert-success alert-styled-left alert-arrow-left alert-bordered hide" id="divsuccessmessagediv">
        </div>
    </div>
    @if (@ViewBag.successmessage != null)
    {
        <div class="positionfix">
            <div class="alert alert-success alert-styled-left alert-arrow-left alert-bordered" id="divsuccessmessage">
                @ViewBag.successmessage
                <button type="button" class="close"><span>×</span><span class="sr-only">Close</span></button>

            </div>
        </div>


    }

    <div class="limiter">
        <div class="container-login100">
            <div class="wrap-login100 p-t-85 p-b-20">
                <form asp-action="VerifingEmailandPassword" method="post" class="login100-form validate-form" asp-controller="Login">
                    @*<form class="login100-form validate-form">*@
                    <span class="login100-form-title p-b-70">
                        Welcome
                    </span>
                    <span class="login100-form-avatar">
                        <img src="~/Images/67b7c621-1c52-466f-a608-d703ea3a024b_2019-05-16-12-28-22-887.jpg" alt="AVATAR">
                    </span>
                    <div class="wrap-input100 validate-input m-t-85 m-b-35" data-validate="Enter email">
                        @*<input class="input100" type="text" name="username">*@
                        @Html.TextBoxFor(Model => Model.EmailID, "", new { @class = "input100", @autocomplete = "off", @autofocus = "autofocus" })
                        <span class="focus-input100" data-placeholder="Email"></span>
                    </div>
                    <div class="wrap-input100 validate-input m-b-50" data-validate="Enter password">
                        @*<input class="input100" type="password" name="pass">*@
                        @Html.PasswordFor(Model => Model.Password, new { @class = "input100", @autocomplete = "off", id = "passwordtxt" })

                        <span class="focus-input100" data-placeholder="Password"></span>
                    </div>
                    <div class="container-login100-form-btn">
                        <button class="login100-form-btn">
                            Login
                        </button>
                    </div>
                    <ul class="login-more p-t-30">
                        <li class="m-b-8">
                            <span class="txt1">
                                Forgot
                            </span>
                            <span data-toggle="modal" data-target="#popmodel" class="txt2 pointer">
                                Password?
                            </span>
                        </li>
                        <li>
                            <span class="txt1">
                                Don’t have an account?
                            </span>
                            <a href="@Url.Action("Mentor","Register")" class="txt2">
                                Sign up
                            </a>
                        </li>
                    </ul>
                </form>
            </div>
        </div>
    </div>
    <div id="dropDownSelect1"></div>

    <div class="modal fade" tabindex="-1" role="dialog" data-keyboard="false" data-backdrop="static" id="popmodel">

        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header btn-primary">
                    <h6 class="modal-title">Confirm Email</h6>

                    <button type="button" class="close" data-dismiss="modal">×</button>
                </div>
                <div class="modal-body">

                    <form data-ajax="true" data-ajax-method="post" data-ajax-success="onSuccess1" id="emailverifyform" asp-action="emailverificationsendOTP" asp-controller="Login">
                        <div class="form-group">
                            <label> Email</label>
                            @Html.TextBoxFor(Model => Model.forgot.emailid, "", new { @class = "form-control requiredInput popuptxt", @onclick = "hidemessage(this)", id = "emailconfirm", @autocomplete = "off" })
                            @Html.ValidationMessageFor(Model => Model.forgot.emailid, "", new { @class = "text-danger", @id = "spamemailid" })

                        </div>

                        <div class="text-right">
                            <button type="button" class="btn btn-default pull-left callonclose" data-dismiss="modal">
                                Cancel
                            </button>
                            <button id="Nextbutton" type="submit" class="btn btn-primary btn-Savewidth spinner-key spinner-key">
                                <span id="companytypeid">Next</span>
                                <i class="icon-spinner2 spinner"></i>
                            </button>
                        </div>
                    </form>

                    <form data-ajax="true" data-ajax-method="post" class="hide" data-ajax-success="onSuccess2" id="otpsendform" asp-action="otpverificationwithemail" asp-controller="Login">
                        <div class="form-group">
                            <label> OTP </label>
                            @Html.HiddenFor(Model => Model.forgot.emailid, new { @id = "hdnverifiedemailid" })
                            @Html.HiddenFor(Model => Model.forgot.memberid, new { @id = "hdnmemberid" })

                            @Html.TextBoxFor(Model => Model.forgot.otp, "", new { @class = "form-control requiredInput popuptxt", @onclick = "hidemessage(this)", @id = "otptextbox", @autocomplete = "off" })
                            @Html.ValidationMessageFor(Model => Model.forgot.otp, "", new { @class = "text-danger", @id = "spanotpmessage" })

                        </div>
                        <div class="text-right">
                            <button type="button" class="btn btn-default pull-left callonclose" data-dismiss="modal">
                                Cancel
                            </button>
                            <button id="verifybutton" type="submit" class="btn btn-primary btn-Savewidth spinner-key spinner-key">
                                <span id="companytypeid">Verify</span>
                                <i class="icon-spinner2 spinner"></i>
                            </button>
                        </div>
                    </form>

                    <form data-ajax="true" data-ajax-method="post" class="hide" data-ajax-success="onSuccess3" id="newpasswordform" asp-action="savenewpassword" asp-controller="Login">
                        <div class="form-group">
                            <label>New Password</label>
                            @Html.HiddenFor(Model => Model.forgot.memberid, new { @id = "hdnmemberidnewpass" })
                            @Html.TextBoxFor(Model => Model.registration.Password, "", new { @class = "form-control requiredInput popuptxt", @autocomplete = "off" })
                            @Html.ValidationMessageFor(Model => Model.registration.Password, "", new { @class = "text-danger" })

                        </div>
                        <div class="form-group">
                            <label>Confirm Password</label>
                            @Html.TextBoxFor(Model => Model.registration.Confirmpassword, "", new { @class = "form-control requiredInput popuptxt", @autocomplete = "off" })
                            @Html.ValidationMessageFor(Model => Model.registration.Confirmpassword, "", new { @class = "text-danger" })

                        </div>
                        <div class="text-right">
                            <button type="button" class="btn btn-default pull-left callonclose" data-dismiss="modal">
                                Cancel
                            </button>
                            <button id="" type="submit" class="btn btn-primary btn-Savewidth spinner-key spinner-key">
                                <span id="companytypeid">Save</span>
                                <i class="icon-spinner2 spinner"></i>
                            </button>
                        </div>
                    </form>



                </div>
            </div>
        </div>
        @*@section Scripts {
                <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
                <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
            }*@
    </div>
    @*<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>*@
    @*<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>*@



    @*<script src="vendor/jquery/jquery-3.2.1.min.js"></script>*@
    @*<script src="~/lib/jquery/dist/jquery.min.js"></script>*@
    @*<script src="https://colorlib.com/etc/lf/Login_v6/vendor/jquery/jquery-3.2.1.min.js"></script>*@
    <script src="~/js/LoginPagestyjs/jqueryMin.js"></script>

    @*<script src="vendor/animsition/js/animsition.min.js"></script>*@
    @*<script src="~/js/LoginPagestyjs/anmationmin.js"></script>*@
    @*<script src="https://colorlib.com/etc/lf/Login_v6/vendor/animsition/js/animsition.min.js"></script>*@
    <script src="~/js/LoginPagestyjs/anmationmin.js"></script>

    @*<script src="vendor/bootstrap/js/popper.js"></script>*@
    @*<script src="~/js/LoginPagestyjs/Popper.js"></script>*@
    @*<script src="https://colorlib.com/etc/lf/Login_v6/vendor/bootstrap/js/popper.js"></script>*@
    <script src="~/js/LoginPagestyjs/Popper.js"></script>


    @*<script src="vendor/bootstrap/js/bootstrap.min.js"></script>*@
    @*<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>*@
    @*<script src="https://colorlib.com/etc/lf/Login_v6/vendor/bootstrap/js/bootstrap.min.js"></script>*@
    <script src="~/js/LoginPagestyjs/Bootstrapmin.js"></script>


    @*<script src="vendor/select2/select2.min.js"></script>*@
    <script src="https://colorlib.com/etc/lf/Login_v6/vendor/select2/select2.min.js"></script>

    @*<script src="vendor/daterangepicker/moment.min.js"></script>*@
    @*<script src="~/js/LoginPagestyjs/momentjs.js"></script>*@
    @*<script src="https://colorlib.com/etc/lf/Login_v6/vendor/daterangepicker/moment.min.js"></script>*@

    @*<script src="vendor/daterangepicker/daterangepicker.js"></script>*@
    @*<script src="https://colorlib.com/etc/lf/Login_v6/vendor/daterangepicker/daterangepicker.js"></script>*@

    @*<script src="vendor/countdowntime/countdowntime.js"></script>*@
    @*<script src="~/js/LoginPagestyjs/countdown.js"></script>*@
    @*<script src="https://colorlib.com/etc/lf/Login_v6/vendor/countdowntime/countdowntime.js"></script>*@

    @*<script src="js/main.js"></script>*@
    @*<script src="https://colorlib.com/etc/lf/Login_v6/js/main.js"></script>*@
    <script src="~/js/LoginPagestyjs/main.js"></script>

    @*<script async src="https://www.googletagmanager.com/gtag/js?id=UA-23581568-13"></script>*@
    <script src="~/js/LoginPagestyjs/tagmanager.js"></script>
    <script src="~/js/unobstrusive-ajax.js"></script>
    <script>
        $(document).ready(function () {
            setTimeout(function () {
                $("#divsuccessmessage").addClass('hide')
            }, 6000)
            $(".alert .close").on('click', function () {
                $(this).parent('.alert').addClass('hide');
            })

            setTimeout(function () {
                $(".pLoader").addClass('hide');
            }, 2000);
        })
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-23581568-13');

        function onSuccess1(data) {
            console.log(data);
            $(".pLoader").addClass('hide');
            if (data.response > 0) {

                $("#hdnverifiedemailid").val(data.forgot.emailid)
                $("#hdnmemberid").val(data.forgot.memberid)
                $("#emailverifyform").addClass('hide');
                $("#otpsendform").removeClass('hide');
            }
            else {
                $("#spamemailid").text('Email not exists, please enter registered email')
            }
        }

        function onSuccess2(response) {
            $(".pLoader").addClass('hide');

            if (response > 0) {
                $("#hdnmemberidnewpass").val(response)
                $("#otpsendform").addClass('hide');
                $("#newpasswordform").removeClass('hide');
            }
            else {
                $("#spanotpmessage").text('Invalid OTP, please enter valid OTP')
            }

        }

        function onSuccess3(response) {
            if (response > 0) {
                window.location.href = '/Login/Index';
            }

        }
        $("#Nextbutton").on('click', function () {
            debugger
            if ($("#emailverifyform").valid() == true) {
                $(".pLoader").removeClass('hide');
            }
        })
        $("#verifybutton").on('click', function () {
            debugger
            if ($("#otpsendform").valid() == true) {
                $(".pLoader").removeClass('hide');
            }
        })

        $(".callonclose").on('click', function () {
            window.location.href = '/Login/Index';
        })
        function hidemessage(ad) {

            var messageid = $("#" + ad.id).next().attr("id");
            var message = $("#" + messageid).text(" ");
            // var message = $("#emailconfirm-error").text(" ");
        }
    </script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>



    @section Scripts {

        @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    }
</body>

</html>

